<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThinkWise AI - 리포트 생성 3단계</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary-50: #FFF8E1;
            --color-primary-100: #FFF1C4;
            --color-primary-200: #FFE082;
            --color-primary-300: #FFD54F;
            --color-primary-400: #FFCA28;
            --color-primary-500: #FFD700;
            --color-primary-600: #FFC107;
            --color-primary-700: #FFB300;
            --color-primary-800: #FFA000;
            --color-primary-900: #FF8F00;
            
            --color-background-primary: #1A1A1A;
            --color-background-secondary: #2C2C2C;
            --color-background-tertiary: #3A3A3A;
            
            --color-text-primary: #FFFFFF;
            --color-text-secondary: #E0E0E0;
            --color-text-tertiary: #BDBDBD;
            
            --color-border-light: #3A3A3A;
            --color-border-medium: #4A4A4A;
            --color-border-focus: #FFD700;
            
            --font-family-primary: 'Montserrat', 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-2xl: 3rem;
            
            --border-radius-sm: 0.375rem;
            --border-radius-md: 0.5rem;
            --border-radius-lg: 0.75rem;
            --border-radius-xl: 1rem;
            
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family-primary);
            background: var(--color-background-primary);
            color: var(--color-text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Header */
        .header {
            background: var(--color-background-secondary);
            border-bottom: 1px solid var(--color-border-light);
            padding: var(--spacing-md) 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            text-decoration: none;
            color: var(--color-text-primary);
        }

        .brand-name {
            background: linear-gradient(135deg, #FFD700, #FFA500, #FF8C00, #FFD700);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease-in-out infinite;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .logo-icon {
            background: linear-gradient(135deg, #FFD700, #FFA500, #FF8C00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2rem;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: var(--spacing-lg);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FFD700, #FFA500, #FF8C00);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: var(--color-background-primary);
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .user-info {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .user-name {
            font-weight: 600;
            color: var(--color-text-primary);
        }

        .user-plan {
            font-size: 0.8rem;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Main Content */
        .main-content {
            padding-top: 80px;
            min-height: calc(100vh - 80px);
            background: linear-gradient(135deg, var(--color-background-primary), var(--color-background-secondary));
        }

        .compose-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--spacing-2xl) var(--spacing-lg);
        }

        /* Progress Bar */
        .progress-section {
            margin-bottom: var(--spacing-2xl);
        }

        .progress-bar {
            background: var(--color-background-tertiary);
            border-radius: var(--border-radius-lg);
            height: 8px;
            overflow: hidden;
            margin-bottom: var(--spacing-md);
        }

        .progress-fill {
            background: linear-gradient(135deg, #FFD700, #FFA500, #FF8C00);
            height: 100%;
            width: 75%;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            color: var(--color-text-secondary);
            font-size: 0.9rem;
        }

        .step-indicator {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 600;
        }

        /* Page Header */
        .page-header {
            text-align: center;
            margin-bottom: var(--spacing-2xl);
        }

        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-subtitle {
            color: var(--color-text-secondary);
            font-size: 1.1rem;
        }

        /* Report Summary */
        .report-summary {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05), rgba(255, 165, 0, 0.05));
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-2xl);
        }

        .summary-title {
            font-weight: 600;
            color: var(--color-text-primary);
            margin-bottom: var(--spacing-sm);
        }

        .summary-content {
            color: var(--color-text-secondary);
            font-style: italic;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-2xl);
            margin-bottom: var(--spacing-2xl);
        }

        /* Visualization Section */
        .visualization-section {
            background: var(--color-background-secondary);
            border: 1px solid var(--color-border-light);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-lg);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
        }

        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--color-text-primary);
        }

        .chart-actions {
            display: flex;
            gap: var(--spacing-sm);
        }

        .chart-button {
            background: var(--color-background-tertiary);
            border: 1px solid var(--color-border-medium);
            color: var(--color-text-secondary);
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--border-radius-md);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chart-button:hover {
            border-color: var(--color-primary-500);
            color: var(--color-primary-500);
            background: rgba(255, 215, 0, 0.1);
        }

        .chart-container {
            background: var(--color-background-tertiary);
            border: 1px solid var(--color-border-light);
            border-radius: var(--border-radius-md);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-lg);
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .chart-placeholder {
            text-align: center;
            color: var(--color-text-tertiary);
        }

        .chart-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
            color: var(--color-text-primary);
        }

        .chart-description {
            font-size: 0.9rem;
            color: var(--color-text-secondary);
        }

        .chart-loading {
            display: none;
            text-align: center;
            color: var(--color-text-secondary);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--color-border-light);
            border-top: 3px solid #FFD700;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto var(--spacing-md);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        /* Content Section */
        .content-section {
            background: var(--color-background-secondary);
            border: 1px solid var(--color-border-light);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-lg);
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
        }

        .content-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--color-text-primary);
        }

        .content-actions {
            display: flex;
            gap: var(--spacing-sm);
        }

        .content-button {
            background: var(--color-background-tertiary);
            border: 1px solid var(--color-border-medium);
            color: var(--color-text-secondary);
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--border-radius-md);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .content-button:hover {
            border-color: var(--color-primary-500);
            color: var(--color-primary-500);
            background: rgba(255, 215, 0, 0.1);
        }

        .content-editor {
            background: var(--color-background-tertiary);
            border: 1px solid var(--color-border-light);
            border-radius: var(--border-radius-md);
            padding: var(--spacing-lg);
            min-height: 400px;
            resize: vertical;
        }

        .content-textarea {
            width: 100%;
            min-height: 350px;
            background: none;
            border: none;
            color: var(--color-text-primary);
            font-size: 1rem;
            line-height: 1.6;
            resize: none;
            outline: none;
        }

        .content-textarea::placeholder {
            color: var(--color-text-tertiary);
        }

        /* Help Section */
        .help-section {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05), rgba(255, 165, 0, 0.05));
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-2xl);
        }

        .help-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: var(--spacing-lg);
            color: var(--color-text-primary);
        }

        .help-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-lg);
        }

        .help-item {
            background: var(--color-background-tertiary);
            border: 1px solid var(--color-border-light);
            border-radius: var(--border-radius-md);
            padding: var(--spacing-lg);
        }

        .help-item-title {
            font-weight: 600;
            color: var(--color-text-primary);
            margin-bottom: var(--spacing-sm);
        }

        .help-item-text {
            color: var(--color-text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Status Messages */
        .status-message {
            display: none;
            text-align: center;
            padding: var(--spacing-lg);
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05), rgba(255, 165, 0, 0.05));
            border-radius: var(--border-radius-lg);
            border: 1px solid rgba(255, 215, 0, 0.2);
            margin-bottom: var(--spacing-lg);
        }

        .status-text {
            color: var(--color-text-secondary);
            font-style: italic;
        }

        /* Complete Section */
        .complete-section {
            text-align: center;
            margin-bottom: var(--spacing-2xl);
        }

        .complete-button {
            background: linear-gradient(135deg, #FFD700, #FFA500, #FF8C00);
            background-size: 200% 200%;
            animation: buttonGlow 2s ease-in-out infinite;
            color: var(--color-background-primary);
            border: none;
            padding: var(--spacing-lg) var(--spacing-2xl);
            border-radius: var(--border-radius-md);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .complete-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
        }

        .complete-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .complete-description {
            color: var(--color-text-secondary);
            font-size: 0.9rem;
            margin-top: var(--spacing-md);
        }

        /* Animations */
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes buttonGlow {
            0%, 100% { 
                background-position: 0% 50%;
                box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            }
            50% { 
                background-position: 100% 50%;
                box-shadow: 0 4px 20px rgba(255, 215, 0, 0.5);
            }
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header-container {
                padding: 0 var(--spacing-md);
            }

            .compose-container {
                padding: var(--spacing-xl) var(--spacing-md);
            }

            .page-title {
                font-size: 2rem;
            }

            .visualization-section,
            .content-section,
            .help-section {
                padding: var(--spacing-lg);
            }

            .help-grid {
                grid-template-columns: 1fr;
            }

            .section-header,
            .content-header {
                flex-direction: column;
                gap: var(--spacing-md);
                align-items: flex-start;
            }
        }

        @media (max-width: 480px) {
            .user-info {
                display: none;
            }

            .page-title {
                font-size: 1.75rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <a href="ui_1.html" class="brand">
                <span class="logo-icon">🧠</span>
                <span class="brand-name">ThinkWise</span>
            </a>
            <div class="user-menu">
                <div class="user-info">
                    <div class="user-name">김사용자</div>
                    <div class="user-plan">Pro 플랜</div>
                </div>
                <div class="user-avatar">김</div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="compose-container">
            <!-- Progress Bar -->
            <div class="progress-section">
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <div class="progress-text">
                    <span>3단계: 시각화·본문 작성</span>
                    <span class="step-indicator">75% 완료</span>
                </div>
            </div>

            <!-- Page Header -->
            <div class="page-header">
                <h1 class="page-title">리포트 생성 – 3단계: 시각화·본문 작성</h1>
                <p class="page-subtitle">AI가 생성한 데이터 시각화와 분석 본문을 확인하고, 필요한 부분을 편집하세요.</p>
            </div>

            <!-- Report Summary -->
            <div class="report-summary">
                <div class="summary-title">리포트 정보</div>
                <div class="summary-content" id="reportSummary">리포트 정보를 불러오는 중...</div>
            </div>

            <!-- Content Grid -->
            <div class="content-grid">
                <!-- Visualization Section -->
                <div class="visualization-section">
                    <div class="section-header">
                        <h3 class="section-title">시각화</h3>
                        <div class="chart-actions">
                            <button class="chart-button" id="changeChartBtn">차트 유형 변경</button>
                            <button class="chart-button" id="downloadDataBtn">데이터 다운로드</button>
                        </div>
                    </div>

                    <div class="chart-container" id="chartContainer">
                        <div class="chart-placeholder" id="chartPlaceholder">
                            <div class="chart-title">글로벌 반도체 시장 성장률 추이 (2018~2024)</div>
                            <div class="chart-description">
                                AI가 수집·정리한 데이터를 기반으로 자동 생성된 시각화입니다.
                            </div>
                        </div>
                        <div class="chart-loading" id="chartLoading">
                            <div class="loading-spinner"></div>
                            <div>데이터 분석 및 시각화 생성 중...</div>
                        </div>
                    </div>
                </div>

                <!-- Content Section -->
                <div class="content-section">
                    <div class="content-header">
                        <h3 class="content-title">본문 작성</h3>
                        <div class="content-actions">
                            <button class="content-button" id="saveContentBtn">저장</button>
                            <button class="content-button" id="resetContentBtn">초기화</button>
                        </div>
                    </div>

                    <div class="content-editor">
                        <textarea 
                            class="content-textarea" 
                            id="contentTextarea"
                            placeholder="AI가 분석한 본문이 여기에 표시됩니다. 필요 시 직접 수정하거나 문장을 추가하세요."
                        ></textarea>
                    </div>
                </div>
            </div>

            <!-- Status Message -->
            <div class="status-message" id="statusMessage">
                <div class="status-text">변경 사항이 저장되었습니다.</div>
            </div>

            <!-- Help Section -->
            <div class="help-section">
                <h3 class="help-title">편집 기능 안내</h3>
                <div class="help-grid">
                    <div class="help-item">
                        <div class="help-item-title">글자 수 제한 없음</div>
                        <div class="help-item-text">자유롭게 본문을 작성하고 편집할 수 있습니다.</div>
                    </div>
                    <div class="help-item">
                        <div class="help-item-title">강조 마크업 기능</div>
                        <div class="help-item-text">볼드, 기울임, 인용 등 다양한 텍스트 스타일을 적용할 수 있습니다.</div>
                    </div>
                    <div class="help-item">
                        <div class="help-item-title">참고자료·출처 추가</div>
                        <div class="help-item-text">분석에 사용된 데이터의 출처와 참고자료를 추가할 수 있습니다.</div>
                    </div>
                    <div class="help-item">
                        <div class="help-item-title">실시간 저장</div>
                        <div class="help-item-text">편집한 내용은 자동으로 저장되며, 시각화 데이터는 주기적으로 업데이트됩니다.</div>
                    </div>
                </div>
            </div>

            <!-- Complete Section -->
            <div class="complete-section">
                <button class="complete-button" id="completeButton">
                    리포트 생성 완료하기
                </button>
                <div class="complete-description">
                    완료 후 리포트를 저장·공유할 수 있습니다.
                </div>
            </div>
        </div>
    </main>

    <script>
        const chartContainer = document.getElementById('chartContainer');
        const chartPlaceholder = document.getElementById('chartPlaceholder');
        const chartLoading = document.getElementById('chartLoading');
        const contentTextarea = document.getElementById('contentTextarea');
        const statusMessage = document.getElementById('statusMessage');
        const completeButton = document.getElementById('completeButton');
        const reportSummary = document.getElementById('reportSummary');

        // Load report data
        window.addEventListener('load', function() {
            const keywords = localStorage.getItem('reportKeywords');
            const mainTopic = localStorage.getItem('reportMainTopic');
            const subtopics = JSON.parse(localStorage.getItem('reportSubtopics') || '[]');

            if (keywords && mainTopic) {
                reportSummary.innerHTML = `
                    <strong>주제:</strong> ${mainTopic}<br>
                    <strong>키워드:</strong> ${keywords}<br>
                    <strong>소주제:</strong> ${subtopics.join(', ')}
                `;
            } else {
                reportSummary.textContent = '리포트 정보를 찾을 수 없습니다.';
            }

            // Load draft content
            const draftContent = localStorage.getItem('draftContent');
            if (draftContent) {
                contentTextarea.value = draftContent;
            } else {
                // Generate sample content
                generateSampleContent();
            }

            // Simulate chart generation
            generateChart();
        });

        // Generate sample content
        function generateSampleContent() {
            const sampleContent = `2024년 글로벌 반도체 시장은 AI 서버와 데이터센터 수요 확대에 힘입어 전년 대비 8.4% 성장할 것으로 예상됩니다. 

주요 성장 동력으로는 다음과 같은 요인들이 있습니다:

• AI 및 머신러닝 기술의 급속한 발전
• 클라우드 컴퓨팅 인프라 확대
• 5G 네트워크 구축 가속화
• 자율주행차 및 IoT 기기 보급 확대

다만, 원자재 가격 상승과 지정학적 리스크는 하반기 변동성 요인으로 작용할 수 있습니다. 특히 반도체 공급망의 지역적 집중도가 높아지면서, 지리적 리스크 관리의 중요성이 더욱 부각되고 있습니다.

주요 기업들의 투자 확대와 정부의 산업 지원 정책이 시장 성장을 뒷받침할 것으로 전망되며, 특히 메모리 반도체와 로직 반도체 분야에서 높은 성장률이 예상됩니다.`;

            contentTextarea.value = sampleContent;
        }

        // Generate chart
        function generateChart() {
            chartPlaceholder.style.display = 'none';
            chartLoading.style.display = 'block';

            setTimeout(() => {
                chartLoading.style.display = 'none';
                chartContainer.innerHTML = `
                    <div style="text-align: center; color: var(--color-text-secondary);">
                        <div style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem; color: var(--color-text-primary);">
                            글로벌 반도체 시장 성장률 추이 (2018~2024)
                        </div>
                        <div style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1)); border-radius: 0.5rem; padding: 2rem; margin: 1rem 0;">
                            <div style="font-size: 2rem; font-weight: 700; background: linear-gradient(135deg, #FFD700, #FFA500); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 0.5rem;">
                                8.4%
                            </div>
                            <div style="font-size: 0.9rem; color: var(--color-text-secondary);">
                                2024년 예상 성장률
                            </div>
                        </div>
                        <div style="font-size: 0.9rem; color: var(--color-text-tertiary); margin-top: 1rem;">
                            AI가 수집·정리한 데이터를 기반으로 자동 생성된 시각화입니다.
                        </div>
                    </div>
                `;
            }, 3000);
        }

        // Chart button handlers
        document.getElementById('changeChartBtn').addEventListener('click', function() {
            alert('차트 유형 변경 기능이 실행됩니다.');
        });

        document.getElementById('downloadDataBtn').addEventListener('click', function() {
            alert('CSV 데이터 다운로드가 시작됩니다.');
        });

        // Content button handlers
        document.getElementById('saveContentBtn').addEventListener('click', function() {
            const content = contentTextarea.value;
            localStorage.setItem('draftContent', content);
            showStatusMessage('변경 사항이 저장되었습니다.');
        });

        document.getElementById('resetContentBtn').addEventListener('click', function() {
            if (confirm('정말로 초기화하시겠습니까? 편집한 내용이 모두 사라집니다.')) {
                generateSampleContent();
                showStatusMessage('내용이 초기화되었습니다.');
            }
        });

        // Auto-save functionality
        let autoSaveTimer;
        contentTextarea.addEventListener('input', function() {
            clearTimeout(autoSaveTimer);
            autoSaveTimer = setTimeout(() => {
                const content = this.value;
                localStorage.setItem('draftContent', content);
                showStatusMessage('자동 저장되었습니다.');
            }, 2000);
        });

        // Show status message
        function showStatusMessage(message) {
            statusMessage.querySelector('.status-text').textContent = message;
            statusMessage.style.display = 'block';
            
            setTimeout(() => {
                statusMessage.style.display = 'none';
            }, 3000);
        }

        // Complete button handler
        completeButton.addEventListener('click', function() {
            const content = contentTextarea.value.trim();
            
            if (!content) {
                alert('본문 내용을 입력해주세요.');
                return;
            }

            // Store final content
            localStorage.setItem('finalContent', content);
            
            // Simulate completion
            this.textContent = '완료 중...';
            this.disabled = true;
            
            setTimeout(() => {
                alert('리포트가 성공적으로 생성되었습니다!');
                window.location.href = 'ui_15.html'; // Report detail page
            }, 2000);
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + S to save
            if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                e.preventDefault();
                document.getElementById('saveContentBtn').click();
            }
        });
    </script>
</body>
</html>
